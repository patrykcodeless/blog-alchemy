<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Alchemy - Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
</head>

<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h3>Blog Alchemy</h3>
            </div>
            <ul class="sidebar-nav">
                <li class="nav-item" id="homeNav">
                    <a href="#" class="nav-link" data-page="home">
                        <i class="bi bi-house-door"></i>
                        <span>Home</span>
                    </a>
                </li>
                <li class="nav-item" id="postsNav">
                    <a href="#" class="nav-link" data-page="posts">
                        <i class="bi bi-file-text"></i>
                        <span>My Posts</span>
                    </a>
                </li>
                <li class="nav-item" id="settingsNav">
                    <a href="#" class="nav-link" data-page="settings">
                        <i class="bi bi-gear"></i>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Navigation -->
            <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom">
                <div class="container-fluid">
                    <div class="d-flex align-items-center">
                        <span class="navbar-text me-3" id="userEmail">Hello, </span>
                    </div>
                    <button class="btn btn-outline-danger" id="logoutButton">Logout</button>
                </div>
            </nav>

            <!-- Page Content -->
            <div class="content-wrapper">
                <!-- Home Page -->
                <div id="homePage" class="page-content">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-12">
                                <div class="card mt-4">
                                    <div class="card-body">
                                        <h2 class="card-title">Welcome to your Dashboard</h2>
                                        <p class="card-text">Here you can manage your blog posts and account settings.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings Page -->
                <div id="settingsPage" class="page-content d-none">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-12">
                                <!-- Profile Settings Card -->
                                <div class="card mt-4">
                                    <div class="card-body">
                                        <h3 class="card-title mb-4">Profile Settings</h3>

                                        <!-- Personal Information -->
                                        <div class="mb-4">
                                            <h4 class="mb-3">Personal Information</h4>
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <label for="firstName" class="form-label">First Name</label>
                                                    <input type="text" class="form-control" id="firstName">
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <label for="lastName" class="form-label">Last Name</label>
                                                    <input type="text" class="form-control" id="lastName">
                                                </div>
                                            </div>
                                            <div class="text-end">
                                                <button class="btn btn-primary" id="saveProfile">
                                                    <i class="bi bi-person-check me-2"></i>Save Profile
                                                </button>
                                            </div>
                                            <div id="profileAlerts" class="mt-3"></div>
                                        </div>

                                        <!-- Email Settings -->
                                        <div class="mb-4">
                                            <h4 class="mb-3">Email Settings</h4>
                                            <div class="mb-3">
                                                <label for="currentEmail" class="form-label">Current
                                                    Email</label>
                                                <input type="email" class="form-control" id="currentEmail" readonly>
                                            </div>
                                            <div class="mb-3">
                                                <label for="newEmail" class="form-label">New Email</label>
                                                <input type="email" class="form-control" id="newEmail">
                                            </div>
                                            <button class="btn btn-primary" id="updateEmail">
                                                <i class="bi bi-envelope me-2"></i>Update Email
                                            </button>
                                            <div id="emailAlerts" class="mt-3"></div>
                                        </div>

                                        <!-- Password Change -->
                                        <div class="mb-4">
                                            <h4 class="mb-3">Change Password</h4>
                                            <div class="mb-3">
                                                <label for="currentPassword" class="form-label">Current
                                                    Password</label>
                                                <div class="password-input-group">
                                                    <input type="password" class="form-control" id="currentPassword"
                                                        required>
                                                    <button type="button" class="password-toggle"
                                                        data-target="currentPassword">
                                                        <span class="password-toggle-text">Show</span>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <label for="newPassword" class="form-label">New Password</label>
                                                <div class="password-input-group">
                                                    <input type="password" class="form-control" id="newPassword"
                                                        required>
                                                    <button type="button" class="password-toggle"
                                                        data-target="newPassword">
                                                        <span class="password-toggle-text">Show</span>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <label for="confirmPassword" class="form-label">Confirm New
                                                    Password</label>
                                                <div class="password-input-group">
                                                    <input type="password" class="form-control" id="confirmPassword"
                                                        required>
                                                    <button type="button" class="password-toggle"
                                                        data-target="confirmPassword">
                                                        <span class="password-toggle-text">Show</span>
                                                    </button>
                                                </div>
                                            </div>
                                            <button class="btn btn-primary" id="updatePassword">
                                                <i class="bi bi-key me-2"></i>Update Password
                                            </button>
                                            <div id="passwordAlerts" class="mt-3"></div>
                                        </div>

                                    </div>
                                </div>

                                <!-- Integration Settings Card -->
                                <div class="card mt-4">
                                    <div class="card-body">
                                        <h3 class="card-title mb-4">Integration Settings</h3>

                                        <!-- Wordpress Section -->
                                        <div class="mb-3">
                                            <label for="wordpressApiKey" class="form-label">WordPress API Key</label>
                                            <input type="text" class="form-control" id="wordpressApiKey"
                                                placeholder="Enter your WordPress API key">
                                        </div>

                                        <!-- Webflow Section -->
                                        <div class="mb-3">
                                            <label for="webflowApiKey" class="form-label">Webflow API Key</label>
                                            <input type="text" class="form-control" id="webflowApiKey"
                                                placeholder="Enter your Webflow API key">
                                        </div>

                                        <!-- Save Button -->
                                        <div class="text-end">
                                            <button class="btn btn-primary" id="saveSettings">
                                                <i class="bi bi-save me-2"></i>Save Settings
                                            </button>
                                        </div>
                                        <div id="alertMessages" class="mt-4"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Posts Page -->
                <div id="postsPage" class="page-content d-none">
                    <div class="container">
                        <div class="row mb-4">
                            <div class="col">
                                <h2>Posts</h2>
                            </div>
                            <div class="col-auto">
                                <button class="btn btn-primary" id="newPostBtn">
                                    <i class="bi bi-plus-circle me-2"></i>New Post
                                </button>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <div class="row align-items-center mb-3">
                                    <div class="col">
                                        <p class="mb-0">Showing <span id="currentPostsRange">0-0</span> of <span
                                                id="totalPosts">0</span> posts</p>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="input-group">
                                            <span class="input-group-text">
                                                <i class="bi bi-search"></i>
                                            </span>
                                            <input type="text" id="searchPosts" class="form-control"
                                                placeholder="Search posts...">
                                        </div>
                                    </div>
                                </div>

                                <!-- Loader -->
                                <div id="postsLoader" class="text-center d-none">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                </div>

                                <!-- Posts Table -->
                                <div class="table-responsive">
                                    <table id="postsTable" class="table">
                                        <thead>
                                            <tr>
                                                <th>Title</th>
                                                <th>Date</th>
                                                <th>Status</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="postsTableBody">
                                            <!-- Posts will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>

                                <!-- Pagination -->
                                <nav aria-label="Posts pagination">
                                    <ul id="postsPagination" class="pagination justify-content-center">
                                        <!-- Pagination will be generated here -->
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deleteConfirmationModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Confirm Delete</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Are you sure you want to delete "<span id="postTitleToDelete"></span>"?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script src="https://cdn.tiny.cloud/1/YOUR_API_KEY/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
    <script src="/dashboard.js"></script>
</body>

</html>